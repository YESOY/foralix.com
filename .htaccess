RewriteEngine On

# Force HTTPS
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://foralix.com/$1 [R=301,L]

# Remove www
RewriteCond %{HTTP_HOST} ^www\.foralix\.com [NC]
RewriteRule ^(.*)$ https://foralix.com/$1 [R=301,L]

# Serve files regardless of case (let the OS handle it)
# No redirects for case issues

# Add .html extension
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME}.html -f [OR]
RewriteCond %{REQUEST_FILENAME}.HTML -f
RewriteRule ^([^/]+)/?$ $1.html [L]

# Remove index.html
RewriteRule ^index\.html$ / [R=301,L]
RewriteRule ^(.*)/index\.html$ /$1/ [R=301,L]
